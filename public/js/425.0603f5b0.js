"use strict";(self["webpackChunkvue_pik_domophone"]=self["webpackChunkvue_pik_domophone"]||[]).push([[425],{1425:(e,l,a)=>{a.r(l),a.d(l,{default:()=>y});var t=a(3673);const n=(0,t._)("hr",{class:"q-my-md"},null,-1),s=(0,t._)("hr",{class:"q-my-md"},null,-1);function o(e,l,a,o,u,m){const r=(0,t.up)("q-table"),i=(0,t.up)("q-btn"),p=(0,t.up)("q-input"),d=(0,t.up)("q-icon"),c=(0,t.up)("q-file"),b=(0,t.up)("q-form"),f=(0,t.up)("q-card"),h=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(h,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{title:"Список пользователей",rows:e.userList,columns:e.columns,"row-key":"id"},null,8,["rows","columns"]),n,(0,t.Wm)(i,{label:"Remove all",color:"red",onClick:e.removeAll},null,8,["onClick"]),s,(0,t.Wm)(f,{class:"q-pa-md",style:{"max-width":"400px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"q-gutter-md",onSubmit:e.onSubmit,onReset:e.resetForm},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{filled:"",modelValue:e.userParams.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.userParams.name=l),label:"Введите имя","lazy-rules":"",rules:e.rules.name},null,8,["modelValue","rules"]),(0,t.Wm)(c,{outlined:"",modelValue:e.userParams.photo,"onUpdate:modelValue":l[1]||(l[1]=l=>e.userParams.photo=l),label:"Фото",required:""},{append:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t._)("div",null,[(0,t.Wm)(i,{label:"Submit",type:"submit",color:"primary"}),(0,t.Wm)(i,{class:"q-ml-sm",label:"Reset",type:"reset",color:"primary",flat:""})])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})}var u=a(1959),m=a(5474);const r=(0,t.aZ)({components:{},computed:{},setup(){const e=(0,u.iH)([]),l=(0,u.iH)(null),a=(0,u.iH)({name:null,photo:[]}),n=[{name:"id",align:"left",label:"id",field:"id",sortable:!0},{name:"name",align:"left",label:"name",field:"name",sortable:!0}],s=async()=>{const{data:l}=await m.api.get("/users");e.value=l.list},o=async()=>{const{data:e}=await m.api.delete("/users");await s()},r=()=>{a.value.name=null,a.value.photo=[],l.value=null};(0,t.bv)((()=>{s()}));const i={name:[e=>e&&e.length>0||"Please type something"]};return{userParams:a,rules:i,userList:e,faceFile:l,columns:n,removeAll:o,fetchList:s,resetForm:r,async onSubmit(){const e=new FormData;e.append("photo",a.value.photo),e.append("name",a.value.name),await m.api.post("/users",e,{headers:{"Content-Type":"multipart/form-data"}}),r(),s()}}}});var i=a(4379),p=a(5989),d=a(4607),c=a(151),b=a(5269),f=a(4689),h=a(4974),v=a(4554),w=a(7518),q=a.n(w);r.render=o;const y=r;q()(r,"components",{QPage:i.Z,QTable:p.Z,QBtn:d.Z,QCard:c.Z,QForm:b.Z,QInput:f.Z,QFile:h.Z,QIcon:v.Z})}}]);